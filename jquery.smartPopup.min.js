!function(e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";if(void 0===e.fn.smartPopup){var t=e.smartPopup=function(t){return e(window).smartPopup(t)},n=!1,i={},r={},o={init:function(o){if(!n&&(r=e.extend({},t.defaults,o),n=!0,null===(i=function(){for(var e="_jqsmartpopup=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e)){var r=i.substring(e.length,i.length);return JSON.parse(r)}}return null}())?i={views:1,initAt:(new Date).getTime(),registered:!1,snoozed:!1}:i.views++,u(i),!i.registered)){if(r.utmSource)if(new RegExp("utm_source="+r.utmSource.toLowerCase()).test(location.search.toLowerCase()))return i.registered=!0,void u(i);(function(e,t){if(!e||!e.snoozed)return!1;var n=new Date(e.snoozed+864e5*t.snoozeWaitInDays);return new Date>n})(i,r)&&(i.snoozed=!1,u(i))}},register:function(){i.registered=!0,u(i)},unregister:function(){i.registered=!1,u(i)},snooze:function(){i.snoozed=(new Date).getTime(),u(i)},status:function(){return i.registered?"User is a known to be registered":i.snoozed?"User has snoozed notifications":o.canShow()?"User is able to be shown notifications":"User has not met the criteria to show the notification"},canShow:function(){if(i.registered||i.snoozed)return!1;if(r.pageViews&&r.timeOnSite){var e=r.pageViews<=i.views,t=r.timeOnSite<=s();return e||t}return r.pageViews?r.pageViews<=i.views:!r.timeOnSite||r.timeOnSite<=s()}};return e.fn.smartPopup=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.smartPopup"):o.init.apply(this,arguments)},t}function s(){return i&&i.initAt?((new Date).getTime()-i.initAt)/1e3:0}function u(e){var t=JSON.stringify(e);document.cookie="_jqsmartpopup="+(t||"")+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"}e.error("smartPopup plugin has already been initialized")});
