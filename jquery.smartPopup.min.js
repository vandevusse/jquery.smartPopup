!function(e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";if(void 0===e.fn.smartPopup){var t=e.smartPopup=function(t){return e(window).smartPopup(t)},i=!1,n={},r={},o={init:function(o){if(!i&&(r=e.extend({},t.defaults,o),i=!0,null===(n=function(){for(var e="_jqsmartpopup=",t=document.cookie.split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e)){var r=n.substring(e.length,n.length);return JSON.parse(r)}}return null}())?n={views:1,initAt:(new Date).getTime(),registered:!1,snoozed:!1}:n.views++,u(n),!n.registered)){if(r.utmSource)if(new RegExp("utm_source="+r.utmSource.toLowerCase()).test(location.search.toLowerCase()))return n.registered=!0,void u(n);(function(e,t){if(!e||!e.snoozed)return!1;var i=new Date(e.snoozed+864e5*t.snoozeWaitInDays);return new Date>i})(n,r)&&(n.snoozed=!1,u(n))}},register:function(){n.registered=!0,u(n)},unregister:function(){n.registered=!1,u(n)},isRegistered:function(){return n.registered},snooze:function(){n.snoozed=(new Date).getTime(),u(n)},status:function(){return n.registered?"User is a known to be registered":n.snoozed?"User has snoozed notifications":o.canShow()?"User is able to be shown notifications":"User has not met the criteria to show the notification"},canShow:function(){if(n.registered||n.snoozed)return!1;if(r.pageViews&&r.timeOnSite){var e=r.pageViews<=n.views,t=r.timeOnSite<=s();return e||t}return r.pageViews?r.pageViews<=n.views:!r.timeOnSite||r.timeOnSite<=s()}};return e.fn.smartPopup=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.smartPopup"):o.init.apply(this,arguments)},t}function s(){return n&&n.initAt?((new Date).getTime()-n.initAt)/1e3:0}function u(e){var t=JSON.stringify(e);document.cookie="_jqsmartpopup="+(t||"")+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/"}e.error("smartPopup plugin has already been initialized")});
